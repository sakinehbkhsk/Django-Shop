{% load static %}
{% block content %}
<link href="{% static 'assets/css/vendor/bootstrap.min.css' %}" rel="stylesheet">

{% for category in categories %}
<div class="btn-group">
    <a href="{{category.get_absolute_url}}" class="btn btn-danger">{{category.name}}</a>
    <button type="button" class="btn btn-danger dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" aria-expanded="false">
        <span class="visually-hidden">Toggle Dropdown</span>
    </button>
    <ul class="dropdown-menu">
        {% for sub in category.scategory.all %}
        <li><a class="dropdown-item" href="{{sub.get_absolute_url}}">{{sub.name}}</a></li>
        {% endfor %}
    </ul>
</div>
{% endfor %}
<br/>
<br/>
<div class="row" id="product-container">
    {% for product in page_obj %}
    <div class="col-md-2">
        <div class="card h-100">
            <img class="card-img-top" src="{{product.image.url}}" alt="">
            <div class="card-body">
                <a href="{{product.get_absolute_url}}" class="card-title">{{product.name}}</a>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Add pagination links -->
<div class="pagination justify-content-center mt-4">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <!-- <a href="?page=1" class="page-link">&laquo; First</a> -->
            <a href="?page={{ page_obj.previous_page_number }}" class="page-link">Previous</a>
        {% endif %}

        <span class="page-link">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}" class="page-link">Next</a>
            <!-- <a href="?page={{ page_obj.paginator.num_pages }}" class="page-link">Last &raquo;</a> -->
        {% endif %}
    </span>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>

{% endblock %}
